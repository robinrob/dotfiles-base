local +r BookmarksPath=$1
local +r BookmarksAliasPath=$2

rm -f $BookmarksAliasPath && touch $BookmarksAliasPath

cat $BookmarksPath | while read line ; do

  local Parts > /dev/null
  Parts=("${(s/::/)line}")

  local +r Name=$Parts[1]

  if [[ $#Parts == 3 ]]
  then
    local +r Browser=$Parts[2]
    local +r Url=$Parts[3]
  else
    local +r Browser='browser'
    local +r Url=$Parts[2]
  fi

  local +r  Alias="browse_copy $Browser '$Url'"

  create_alias $Name $Alias $BookmarksAliasPath $SUCCESS_MSG

  source $BookmarksAliasPath

done
