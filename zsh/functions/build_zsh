local +r FunctionName=$1
local +r ScriptPath=$2

rm -f $ScriptPath
touch $ScriptPath

local +r Contents="$(expand_function $FunctionName)"
if $(print $Contents | ggrep 'COLORS')
then
  Contents="typeset -Ag COLORS=($(print ${(kv)COLORS} | xargs))
  $Contents"
fi

print $Contents >> $ScriptPath

#which create_color_functions >> $ScriptPath
#print create_color_functions >> $ScriptPath
#print -r $(expand_function $FunctionName) >> $ScriptPath
